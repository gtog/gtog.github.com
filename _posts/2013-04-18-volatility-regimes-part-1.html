---
layout: post
title: "Volatility Regimes: Part 1"
description: "Examining the impact of volatility regimes on strategy selection."
category: finance
tags: [finance, Volatility, R, Regime Switching, strategy, clustering]
---
{% include JB/setup %}

<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>





</head>

<body>

<p>This is a &ldquo;do over&rdquo; of a project I started while at my former employer in the fall of 2011. I presented part 1 of this<br/>
framework at the FX Invest West Coast conference on September 11, 2012. I have made some changes and expanded the<br/>
analysis since then and continue to develop it.  </p>

<h2>Part 1: Constructing a Regime Framework  </h2>

<h3>Motivation</h3>

<p>People often aske me, &ldquo;What trades should we be doing right now?&rdquo; or &ldquo;What trades do you like right now?&rdquo;<br/>
I have often answered these questions with a combination of personal preference and an informal sampling<br/>
of trades other people have been talking about. Rather than continue offering such subjective responses,<br/>
I decided to embark on a small quest to apply some discipline answering those questions. What if we had<br/>
a roadmap that told us: &ldquo;When the world looks like this, do that.&rdquo; What if we could map out all states<br/>
of the world and test all our favorite strategies in each of those states? We could then assess where<br/>
we are and apply the strategies that do the best. The following is the first in a series of pieces that<br/>
will develop this framework. It will:  </p>

<ul>
<li>Give you a framework for assessing the current state of the world.<br/></li>
<li>Give you a way to test and rank your favorite strategies in each state or regime.<br/></li>
<li>Give you a way to estimate the conditional probability of migtrating to another state.<br/></li>
<li>Give you a way to form expectations about how long each state might persist.<br/></li>
</ul>

<p>In addition, we will try to estimate a more formal regime swithcing model to see if the transition probabilities<br/>
can give us any foresight into regime transitions. You should come away from this reading with a useable tool for<br/>
deciding which stategies you should be employing, given the state of the world as identified by the FX vol surface.<br/>
In short, we want to know if conditioning our strategy selection based on the volatility regime leads to better<br/>
performance. But, first things first. Let&#39;s map the world&hellip;  </p>

<h3>Mapping the World</h3>

<p>Volatiltiy regimes are nothing more than states of the world defined by volatility characteristics.<br/>
What sort of characteristics? Well, in this framework, we consider 2 factors: (1) level of volatility<br/>
and (2) the term structure or slope. These 2 factors give us a lot of information about what state the world is<br/>
currently in.  </p>

<p>In a simple 4 state world, we might let each of our 2 factors take on 2 levels each. For example,<br/>
vol levels might be (1) High or (2) Low  and our term structure of vol might be (1) Steep or (2) Flat.<br/>
One can imagine looking at the world in 2008 when vol levels were quite high and term structures were massively<br/>
inverted (short dated vols traded above longer dated vols). We might call this state 1: HIGH and FLAT.<br/>
As the policy makers introduced measures and time passed, short dated vols came down, but overall vol levels<br/>
remained quite high. This might be called state 2: HIGH and STEEP. As more time passed and market participants<br/>
became more comfortable with the fallout fromt he crisis, we experienced a parallel shift lower in all vols, but<br/>
long date risk premiums remained. That is, long dated vols still traded expensive to short dated vols, albeit at<br/>
much lower levels. We might call this state 3: LOW and STEEP. One can imagine coming full circle back to the risk<br/>
seeking months and years before the crisis where long dated risk premiums collapse and the term structure<br/>
flattens out. This is similar to the 2005-2006 experience. Vol levels settle in a low levels and the slope<br/>
of the term structure is relatively flat. We can call this state 4: LOW and FLAT.  </p>

<h4>The Data</h4>

<p>Source: Bloomberg<br/>
Frequency: Daily<br/>
Vol Tenors:  </p>

<ul>
<li>1 month<br/></li>
<li>1 year<br/></li>
</ul>

<p>Start: 30-Dec-1994<br/>
End: 11-Jan-2013<br/>
Currency Pair: EURUSD</p>

<p>Note that you could average together, say, all of the G-10 and EM vols together and use some composite vol<br/>
index as your term structure and level variables. At least as far as G-10 vols go, the results do not differ<br/>
significantly from just using EURUSD vol.  </p>

<h4>A Visual Inspection</h4>

<p>Before I get too far in any analysis, I like to make a visual inspection of the data.  This is always useful<br/>
and can reveal problems or new ideas before too much work has been done. Let&#39;s do that here:</p>

<p><img src="data:image/png;base64,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" alt="plot of chunk visualInspection"/> </p>

<p>The visual inspection of the data reveals that our simple 2 levels per factor assumption is probably not the right<br/>
formulation. looking left to right along the x-axis it&#39;s pretty clear that there are 3 distint clusters in the<br/>
vol level data. There also appears to be 3 reasonable levels across the term structure variable, with points<br/>
above, below, and well below the horizontal zero-line.  </p>

<h4>A Shallow Dive into the Realm of Cluster Analysis</h4>

<p>The first thing we&#39;ll want to do is to standardize our variables by transforming them into z-score measures.<br/>
This is always a useful thing to do when dealing with variables of vastly different bases. It also makes us<br/>
level agnostic, which is a good thing.  </p>

<p>Rather than going through each day in history and deciding whether that day was STEEP or FLAT and<br/>
HIGH or LOW, we can employ a simple clustering algorithm to split up our standardized variables into<br/>
an arbitrary number of groups. In this case we have 2 groupings per factor. So, we can use a k-means clustering<br/>
algorithm with 2 means per factor to split each factor into groups.  </p>

<h4>Is our 2 Levels per Factor (4-State World) Appropriate?</h4>

<p>One natural question is,&ldquo;Have we selected the right number of levels for each factor?&rdquo; What if some other<br/>
number of groupings is more appropriate for each of our factors? There is a way to determine the appropriate<br/>
number of groupings for a given factor. It&#39;s very similar to using a scree plot in PCA to determine the<br/>
number of principal components you want to use. By iteratively running the k-means clustering algorithm<br/>
with a variable number of means, we can examine the sum of squared distances between the elements of each<br/>
group. If we plot the results, we&#39;ll get something like this:  </p>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAogAAAGwCAMAAAAdVmTVAAAAhFBMVEX9/v0AAAAAADkAAGUAOTkAOY8AZrU5AAA5ADk5AGU5OWU5OY85ZrU5j485j9plAABlADllAGVlOQBlOY9lZmVltf2POQCPOTmPOWWPZgCPj2WPtY+P29qP2/21ZgC1Zjm1tWW1/rW1/v3ajzna24/a/rXa/v39tWX924/9/rX9/tr9/v22f0khAAAALHRSTlP/////////////////////////////////////////////////////////AMfWCYwAAAAJcEhZcwAACxIAAAsSAdLdfvwAABPzSURBVHic7Z0Ne9u2FYWrdFGWZrOTtna2tdaWaItk4///v4kfsiWbAC94L8GLw/M+adKYEkievCQBECB/CoQ44KelN4CQBopIXEARiQsoInEBRSQuoIjEBRSRuIAiEhdQROICikhcQBGJCygicQFFJC6giMQFFJG4gCISF1BE4gKKSFxAEYkLKCJxAUUkLqCIxAUUkbiAIhIXUETiAopIXEARiQsoInEBRSQuoIjEBRSRuIAiEhdQROICikhcQBGJCygicQFFJC6giMQFFJG4gCISF1BE4gKKSFxAEYkLKCJxAUUkLqCIxAUUkbiAIhIXUETiAopIXEARiQsoInEBRSQuoIjEBRSRuIAiEhdQROICikhcoBFxsx7M8maGEVQiKr5bFzOKOFvJ3qCIBlBEPRTRAIqohyIaQBH1UEQDKKIeimgARdRDEQ2giHooogEUUc/8Io72VdbP7CIyQ72Im/GVVM/cIjJDiiiCIuqhiAZQRD2sIxrAOqIetpoNYKtZD0U0gCLqoYgGUEQ9FNEAiqinhIjwaRYQce0ZUkQJFFEPRTSAIuqhiAZQRD0U0QCKqGcGEd9OEERPkSLqKdJ9g55iie6blWdIESVQRD0U0QCKqIciGkAR9VBEAyiiHopoAEXUQxENoIh6KKIBFFFPmWFg4ClSRD0U0QCKqIciGkAR9VBEAyiiHopoQJGpAuvOkCJKoIh6KKIBFFEPRTSAIuopIyJ4ihRRD0U0gCLqoYgGUEQ9FNEAiqiHIhpAEfVQRAMooh6KaABF1EMRDaCIetQiHj+0k+l//p4sGjtF7d4xQ72IT/d37Z+H9z+SRUOnqNw5YYbQEapFfPzy/erPWNHQ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" alt="plot of chunk makeScreePlot"/> </p>

<p>The scree plots suggest that 3 or 4 groups is defintely more appropriate. It might be more appropriate to<br/>
allow each factor (term structure and level) to take on 3 levels (high, medium, and low) and (steep, normal, and   flat),<br/>
for example. 4 clusters might also work, but we start to lose some intuition about the construction.<br/>
For now, let&#39;s just stick with our 4 state world and see if we can map the historical observations.  </p>

<p>After running the k-means clustering algorithm with 2 means per factor, we should have each standardized factor<br/>
assigned to one of 2 groups. We can inspect the results of this assignment:</p>

<p><img src="data:image/png;base64,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" alt="plot of chunk plotGroupAssignment"/> </p>

<p>Now that both factors have been assigned a grouping, we can plot the results. A trellis plot is a nice way<br/>
to view the data by factor grouping:</p>

<p><img src="data:image/png;base64,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" alt="plot of chunk plot4States"/> </p>

<p>The plot is nice in some respects. We can clearly see the crisis periods in the upper left quadrant<br/>
&ldquo;High/Flat&rdquo;.  And, each of the other quadrants seems to have reasonable representation. Though, there<br/>
is a tremendous amount of overplotting (dots on top of each other). This suggests that our 4 state grouping<br/>
might not be sufficient. We knew this, from our scree plot. Let&#39;s re-run the analysis and allow the k-means<br/>
algorithm to bucket each factor into 3 groupings.  </p>

<p>It&#39;s helpful to visualize how our term structure and level z-score variables were grouped by the clustering algorithm.<br/>
The following plots show the time series of the z-scores colored by the group they were assigned to.   You can easily see<br/>
the &ldquo;Steep&rdquo;, &ldquo;Normal&rdquo; (for lack of a better word), and &ldquo;Flat&rdquo; groupings. Similarly for the   level z-score variable.  </p>

<p><img src="data:image/png;base64,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" alt="plot of chunk plotZScoresByColor"/> </p>

<p>Now we can plot our 9 states as we did for our 4 state mapping:<br/>
<img src="data:image/png;base64,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" alt="plot of chunk plot9States"/> </p>

<h3>The <em>State</em> of Play</h3>

<p>Now that we have some nice states of the world mapped out, we might like to know something about the frequency<br/>
of occupying a particular state and other questions like:</p>

<ul>
<li>Conditional on being in state s, what is the probability of transitioning to state r?</li>
<li>Over the next n periods, how long are we expected to be in any one of the states?</li>
</ul>

<p>A state table is a very good way to represent multi-state data. What follows is adapted from excellent work<br/>
done by Christopher Jackson at the Department of Epidemiology and Public Health, Imperial College, London. 
The interested reader is referred here: <a href="http://rss.acs.unt.edu/Rdoc/library/msm/doc/msm-manual.pdf">Multi-state modelling with R: the msm package</a>  </p>

<p>The state table shows the number of times each state has followed another state in succession in the data. 
Here is the state table for our 9 state representation of the world:</p>

<pre><code>##     to
## from  FH  FM  NH  NL  NM  SH  SL  SM
##   FH  78   0   6   0   0   0   0   0
##   FM   1  16   0   0   3   0   0   0
##   NH   5   0 440   0   2  30   0   2
##   NL   0   0   0 571  14   0  41   0
##   NM   0   4   4  11 700   1   2  42
##   SH   0   0  28   0   1 392   0  28
##   SL   0   0   0  43   0   0 425   7
##   SM   0   0   1   1  44  26   8 680
</code></pre>

<p>This table shows the number of times that one state has followed another state in successive observation times. So,<br/>
conditional on being in the &ldquo;SM&rdquo; state (the bottom row of the table), we have migrated to &ldquo;SL&rdquo; on <em>n</em> occassions,<br/>
to &ldquo;SH&rdquo; on <em>m</em> occassions, to &ldquo;NM&rdquo; on <em>p</em> occassions, and so on. This is informative. It is also worth noting the zero<br/>
entries in the table. This means that from some states we have NEVER transitioned to some other states. For example, we<br/>
have never transitioned from &ldquo;SM&rdquo; to &ldquo;FH&rdquo;. Nor from &ldquo;SM&rdquo; to &ldquo;FH&rdquo;. Note that the count of observed states is a function<br/>
of the grouping algorithm. Each time we re-run the clustering, we&#39;ll get slightly different answers. This is expected<br/>
and you should run the algorithm many times to establish confidence intervals about the estimates.  </p>

<p>While <em>counts</em> of historical occurrences is helpful, let&#39;s see if we can estimate actual transition probabilities.<br/>
We&#39;ll use this state table to seed the estimation. First we need to estimate an initial transisiton intensity matrix.<br/>
Once we have the initial intensity matrix constructed (easily done with the msm package), we can then estimate the<br/>
transition probabilities.  Here are the results of that estimation:  </p>

<pre><code>##       FH    FM    NH    NL    NM    SH    SL    SM
## FH 0.931 0.000 0.066 0.000 0.000 0.002 0.000 0.000
## FM 0.044 0.819 0.002 0.001 0.130 0.000 0.000 0.004
## NH 0.010 0.000 0.924 0.000 0.004 0.057 0.000 0.006
## NL 0.000 0.000 0.000 0.919 0.021 0.000 0.060 0.001
## NM 0.000 0.005 0.005 0.013 0.922 0.002 0.003 0.050
## SH 0.000 0.000 0.056 0.000 0.004 0.883 0.000 0.056
## SL 0.000 0.000 0.000 0.082 0.001 0.000 0.903 0.013
## SM 0.000 0.000 0.002 0.002 0.053 0.031 0.010 0.903
</code></pre>

<p>Excellent. Now we can say something about the 1-day probability of transitioning from one state to another.<br/>
You can see the persistence present in each state. That makes sense. It&#39;s sort of like asking, &ldquo;What is the<br/>
probability that firm XYZ will be downgraded <em>TOMORROW</em>?&rdquo; Well, there is a very high liklihood that whatever<br/>
rating firm XYZ has today, it will have it tomorrow, too. But, there is always some small chance of a downgrade event.<br/>
Similarly here, there is a very high liklihood that we will maintain the current state tomorrow. It might<br/>
be more useful for us to estimate, say, 1 month ahead probabilities. Here are the 1-month transition probabilites:  </p>

<pre><code>##       FH    FM    NH    NL    NM    SH    SL    SM
## FH 0.165 0.002 0.368 0.016 0.082 0.210 0.016 0.141
## FM 0.066 0.010 0.157 0.098 0.259 0.121 0.072 0.218
## NH 0.055 0.003 0.306 0.035 0.137 0.228 0.031 0.205
## NL 0.004 0.004 0.028 0.358 0.174 0.038 0.266 0.128
## NM 0.015 0.008 0.094 0.138 0.288 0.106 0.103 0.247
## SH 0.033 0.004 0.230 0.058 0.182 0.204 0.049 0.240
## SL 0.003 0.004 0.028 0.361 0.161 0.038 0.279 0.126
## SM 0.016 0.007 0.120 0.115 0.256 0.134 0.091 0.261
</code></pre>

<p>Now, instead of a 94% chance of being in, say, &ldquo;SM&rdquo; tomorrow, we can say that there is approximately 30% chance of<br/>
still being in &ldquo;SM&rdquo; 1 month from now, having started in &ldquo;SM&rdquo; today. Similarly, starting in &ldquo;SM&rdquo;, we can<br/>
see that &ldquo;SL&rdquo;, &ldquo;NM&rdquo;, and &ldquo;NL&rdquo; are the 3 most likely transitions from &ldquo;SM&rdquo;. Those are the states we should<br/>
be focusing on as portfolio managers trying to anticipate the next most likely states of the world.<br/>
Confidence intervals of the probability estimates are available, but not shown here.</p>

<p>The last thing we&#39;ll do before moving on is to estimate the &ldquo;total length of stay&rdquo; for each of our<br/>
designated states of the world. That is, over the next, say, 1yr, how many days do we expect to spend<br/>
in each state?  Here is a table that shows the expected length of stay in each state (in days):  </p>

<pre><code>## FH FM NH NL NM SH SL SM 
## 22  1 49 30 44 36 23 48
</code></pre>

<p>This concludes part 1 of Volatility Regimes: Identification and the Impact on Strategy Selection.<br/>
In the next part of the analysis, we&#39;ll select a number of strategies and run them without selection<br/>
based on regime and then with conditioning on Volatility Regime. We&#39;ll show how the conditioning<br/>
information improves performance. We&#39;ll also draw some conclusions about which strategies do best in<br/>
which regimes. Lastly, we&#39;ll estimate a regime switching model and see how well it does in picking<br/>
up changes in regimes.  </p>

</body>

</html>

